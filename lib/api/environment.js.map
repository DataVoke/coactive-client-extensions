{"version":3,"sources":["../../src/api/environment.js"],"names":["api","loadExtension","environment","clearVariablesWithPrefix","prefix","removeVariable","variables","key","startsWith","setVariableValue"],"mappings":";;;;;;;eAAgB,YAAM;AAClB;;;;;AAKA;;AACA;;;;;;;;;;AAWA;AACAA,EAAAA,GAAG,CAACC,aAAJ,CAAkB,iBAAlB,EAAqC,YAAM;AACvC,QAAI,CAACD,GAAG,CAACE,WAAJ,CAAgBC,wBAArB,EAA+C;AAC3CH,MAAAA,GAAG,CAACE,WAAJ,CAAgBC,wBAAhB,GAA2C,UAACC,MAAD,EAAoC;AAAA,YAA3BC,cAA2B,uEAAV,KAAU;;AAC3E,YAAIL,GAAG,CAACE,WAAJ,IAAmBF,GAAG,CAACE,WAAJ,CAAgBI,SAAvC,EAAkD;AAC9C,eAAK,IAAIC,GAAT,IAAgBP,GAAG,CAACE,WAAJ,CAAgBI,SAAhC,EAA2C;AACvC,gBAAIC,GAAG,CAACC,UAAJ,CAAeJ,MAAf,CAAJ,EAA4B;AACxB,kBAAIC,cAAJ,EAAoB;AAChBL,gBAAAA,GAAG,CAACE,WAAJ,CAAgBG,cAAhB,CAA+BE,GAA/B;AACH,eAFD,MAEO;AACHP,gBAAAA,GAAG,CAACE,WAAJ,CAAgBO,gBAAhB,CAAiCF,GAAjC,EAAsC,EAAtC;AACH;AACJ;AACJ;AACJ;AACJ,OAZD;AAaH;AACJ,GAhBD;AAiBH,CApCc,E","sourcesContent":["export default (() => {\n    /**\n     * Extends the api.environment namespace with additional helper functions.\n     * Dependencies:\n     *    api.loadExtension\n     */\n    // This is a quick way to remove/clear variables with a certain prefix.\n    /*Example\n        Variables in the dictionary\n        order.id\n        order.callingForm\n        orderItem.id\n        quote.id\n        quote.callingForm\n\n        Executing api.environment.clearVariablesWithPrefix(\"order.\") will clear all variables that start with \"order.\"\n        Executing api.environment.clearVariablesWithPrefix(\"order.\", true) will remove all variables that start with \"order.\"\n    */\n    // Clears/removes all variables that start with the the prefix\n    api.loadExtension(\"api.environment\", () => {\n        if (!api.environment.clearVariablesWithPrefix) {\n            api.environment.clearVariablesWithPrefix = (prefix, removeVariable = false) => {\n                if (api.environment && api.environment.variables) {\n                    for (let key in api.environment.variables) {\n                        if (key.startsWith(prefix)) {\n                            if (removeVariable) {\n                                api.environment.removeVariable(key);\n                            } else {\n                                api.environment.setVariableValue(key, \"\");\n                            }\n                        }\n                    }\n                }\n            };\n        }\n    });\n})();\n"],"file":"environment.js"}