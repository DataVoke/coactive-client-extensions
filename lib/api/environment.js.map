{"version":3,"sources":["../../src/api/environment.js"],"names":["api","environment","clearVariablesWithPrefix","prefix","removeVariable","variables","key","startsWith","setVariableValue"],"mappings":";;AAAA;;;;;;AAMA;;AACA;;;;;;;;;;;AAWA;AACAA,GAAG,CAACC,WAAJ,CAAgBC,wBAAhB,GAA2C,UAACC,MAAD,EAAoC;AAAA,MAA3BC,cAA2B,uEAAV,KAAU;;AAC3E,MAAIJ,GAAG,CAACC,WAAJ,IAAmBD,GAAG,CAACC,WAAJ,CAAgBI,SAAvC,EAAkD;AAC9C,SAAK,IAAIC,GAAT,IAAgBN,GAAG,CAACC,WAAJ,CAAgBI,SAAhC,EAA2C;AACvC,UAAIC,GAAG,CAACC,UAAJ,CAAeJ,MAAf,CAAJ,EAA4B;AACxB,YAAIC,cAAJ,EAAoB;AAChBJ,UAAAA,GAAG,CAACC,WAAJ,CAAgBG,cAAhB,CAA+BE,GAA/B;AACH,SAFD,MAEO;AACHN,UAAAA,GAAG,CAACC,WAAJ,CAAgBO,gBAAhB,CAAiCF,GAAjC,EAAsC,EAAtC;AACH;AACJ;AACJ;AACJ;AACJ,CAZD","sourcesContent":["/**\n * Custom Action: Extend api.environment\n * Extends the api.environment namespace with additional helper functions.\n * Dependencies:\n *    api.environment.variables\n */\n// This is a quick way to remove/clear variables with a certain prefix.\n/*Example\n    Variables in the dictionary\n    order.id\n    order.callingForm\n    orderItem.id\n    quote.id\n    quote.callingForm\n\n    Executing api.environment.clearVariablesWithPrefix(\"order.\") will clear all variables that start with \"order.\"\n    Executing api.environment.clearVariablesWithPrefix(\"order.\", true) will remove all variables that start with \"order.\"\n*/\n// Clears/removes all variables that start with the the prefix\napi.environment.clearVariablesWithPrefix = (prefix, removeVariable = false) => {\n    if (api.environment && api.environment.variables) {\n        for (let key in api.environment.variables) {\n            if (key.startsWith(prefix)) {\n                if (removeVariable) {\n                    api.environment.removeVariable(key);\n                } else {\n                    api.environment.setVariableValue(key, \"\");\n                }\n            }\n        }\n    }\n};\n"],"file":"environment.js"}